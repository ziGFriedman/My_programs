<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>title</title>
  </head>

  <style>
    .success {
      background-color: green;
    }
    .failed {
      background-color: red;
    }
  </style>
  <body>
    <div class="requests">
      <ul class="results"></ul>
      <button id="make-request">Request</button>
    </div>
  <script type="application/javascript" src="https://unpkg.com/jquery@3.2.0"></script>
  <script type="application/javascript">
    'use strict';

    (function (window, document, $) {
      function sendRequest(perem) {
        var result = $('.result', '.requests');
        // var result = $('.requests').find('.results');

        var request = $.ajax({
          url: 'http://127.0.0.1:5000/ajax/' + param,
          crossDomain: true,
          dataType: 'json'
        });

        request.done(function (data, textStatus, jqXHR) {
          console.log(data, textStatus, jqXHR);
          var result = $('<li>').addClass('success').text('+1');
          results.append(result);
        });

        request.fail(function (jqXHR, textStatus, errorThrown) {
          console.log(jqXHR, textStatus, errorThrown);
          var result = $('<li>').addClass('failed').text('=(');
          result.append(result);
        });
      }

      $(document).ready(function() {
        var params = ['success', 'other'];
        $('#make-request').click(function() {
          sendRequest(params[Math.round(Math.random())]);
        });
      });
    })(window, document, jQuery);
  </script>
  </body>
</html>
